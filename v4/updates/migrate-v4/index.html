<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://sap.github.io/ui5-tooling/v4/updates/migrate-v4/ rel=canonical><link rel=icon href=../../images/favicon.png><meta name=generator content="mkdocs-1.4.2, mkdocs-material-8.5.9"><title>Migrate to v4 - UI5 Tooling</title><link rel=stylesheet href=../../assets/stylesheets/main.20d9efc8.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.08040f6c.min.css><meta name=theme-color content=#2094f3><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=blue> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#migrate-to-v4 class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-component=outdated hidden> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="UI5 Tooling" class="md-header__button md-logo" aria-label="UI5 Tooling" data-md-component=logo> <img src=../../images/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> UI5 Tooling </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Migrate to v4 </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/SAP/ui5-tooling title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> SAP/ui5-tooling </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="UI5 Tooling" class="md-nav__button md-logo" aria-label="UI5 Tooling" data-md-component=logo> <img src=../../images/logo.svg alt=logo> </a> UI5 Tooling </label> <div class=md-nav__source> <a href=https://github.com/SAP/ui5-tooling title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> SAP/ui5-tooling </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../../pages/GettingStarted/ class=md-nav__link> Getting Started </a> </li> <li class=md-nav__item> <a href=../../pages/CLI/ class=md-nav__link> UI5 CLI </a> </li> <li class=md-nav__item> <a href=../../pages/Configuration/ class=md-nav__link> Configuration </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle=__nav_5 type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5> Development <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Development data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Development </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../pages/Overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../pages/OpenUI5/ class=md-nav__link> OpenUI5 </a> </li> <li class=md-nav__item> <a href=../../pages/SAPUI5/ class=md-nav__link> SAPUI5 </a> </li> <li class=md-nav__item> <a href=../../pages/Workspace/ class=md-nav__link> Workspace </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle=__nav_6 type=checkbox id=__nav_6 checked> <label class=md-nav__link for=__nav_6> Extensibility <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Extensibility data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Extensibility </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../pages/extensibility/CustomTasks/ class=md-nav__link> Custom Tasks </a> </li> <li class=md-nav__item> <a href=../../pages/extensibility/CustomServerMiddleware/ class=md-nav__link> Custom Server Middleware </a> </li> <li class=md-nav__item> <a href=../../pages/extensibility/ProjectShims/ class=md-nav__link> Project Shims </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle=__nav_7 type=checkbox id=__nav_7 checked> <label class=md-nav__link for=__nav_7> Modules <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Modules data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Modules </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../pages/Server/ class=md-nav__link> Server </a> </li> <li class=md-nav__item> <a href=../../pages/Builder/ class=md-nav__link> Builder </a> </li> <li class=md-nav__item> <a href=../../pages/Project/ class=md-nav__link> Project </a> </li> <li class=md-nav__item> <a href=../../pages/FileSystem/ class=md-nav__link> File System </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8 type=checkbox id=__nav_8 checked> <label class=md-nav__link for=__nav_8> Upgrade Guides <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Upgrade Guides" data-md-level=1> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Upgrade Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Migrate to v4 <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Migrate to v4 </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#ui5-2x-compatibility class=md-nav__link> UI5 2.x Compatibility </a> </li> <li class=md-nav__item> <a href=#nodejs-and-npm-version-support class=md-nav__link> Node.js and npm Version Support </a> </li> <li class=md-nav__item> <a href=#specification-versions-support class=md-nav__link> Specification Versions Support </a> </li> <li class=md-nav__item> <a href=#changes-for-projects class=md-nav__link> Changes for Projects </a> </li> <li class=md-nav__item> <a href=#migrate-your-code class=md-nav__link> Migrate Your Code </a> <nav class=md-nav aria-label="Migrate Your Code"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#changes-to-ui5cli class=md-nav__link> Changes to @ui5/cli </a> </li> <li class=md-nav__item> <a href=#changes-to-ui5fs class=md-nav__link> Changes to @ui5/fs </a> </li> <li class=md-nav__item> <a href=#changes-to-ui5builder class=md-nav__link> Changes to @ui5/builder </a> </li> <li class=md-nav__item> <a href=#changes-to-ui5project class=md-nav__link> Changes to @ui5/project </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#troubleshooting class=md-nav__link> Troubleshooting </a> <nav class=md-nav aria-label=Troubleshooting> <ul class=md-nav__list> <li class=md-nav__item> <a href=#app-stops-working-with-ui5-171 class=md-nav__link> App Stops Working With UI5 1.71 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../migrate-v3/ class=md-nav__link> Migrate to v3 </a> </li> <li class=md-nav__item> <a href=../migrate-v2/ class=md-nav__link> Migrate to v2 </a> </li> <li class=md-nav__item> <a href=../migrate-v1/ class=md-nav__link> Migrate to v1 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../pages/FAQ/ class=md-nav__link> FAQ </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle=__nav_10 type=checkbox id=__nav_10 checked> <label class=md-nav__link for=__nav_10> Miscellaneous <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Miscellaneous data-md-level=1> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> Miscellaneous </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../pages/Troubleshooting/ class=md-nav__link> Troubleshooting </a> </li> <li class=md-nav__item> <a href=../../pages/Benchmarking/ class=md-nav__link> Benchmarking </a> </li> <li class=md-nav__item> <a href=../../pages/ESSupport/ class=md-nav__link> ECMAScript Support </a> </li> <li class=md-nav__item> <a href=../../pages/CodeAnalysis/ class=md-nav__link> Code Analysis </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../api/index.html class=md-nav__link> API Reference </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#ui5-2x-compatibility class=md-nav__link> UI5 2.x Compatibility </a> </li> <li class=md-nav__item> <a href=#nodejs-and-npm-version-support class=md-nav__link> Node.js and npm Version Support </a> </li> <li class=md-nav__item> <a href=#specification-versions-support class=md-nav__link> Specification Versions Support </a> </li> <li class=md-nav__item> <a href=#changes-for-projects class=md-nav__link> Changes for Projects </a> </li> <li class=md-nav__item> <a href=#migrate-your-code class=md-nav__link> Migrate Your Code </a> <nav class=md-nav aria-label="Migrate Your Code"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#changes-to-ui5cli class=md-nav__link> Changes to @ui5/cli </a> </li> <li class=md-nav__item> <a href=#changes-to-ui5fs class=md-nav__link> Changes to @ui5/fs </a> </li> <li class=md-nav__item> <a href=#changes-to-ui5builder class=md-nav__link> Changes to @ui5/builder </a> </li> <li class=md-nav__item> <a href=#changes-to-ui5project class=md-nav__link> Changes to @ui5/project </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#troubleshooting class=md-nav__link> Troubleshooting </a> <nav class=md-nav aria-label=Troubleshooting> <ul class=md-nav__list> <li class=md-nav__item> <a href=#app-stops-working-with-ui5-171 class=md-nav__link> App Stops Working With UI5 1.71 </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/SAP/ui5-tooling/edit/main/docs/updates/migrate-v4.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <h1 id=migrate-to-v4>Migrate to v4<a class=headerlink href=#migrate-to-v4 title="Permanent link">&para;</a></h1> <div class="admonition tip"> <p class=admonition-title>In Development</p> <p><strong>UI5 Tooling 4.0 has been released on July 24, 2024 🎉</strong></p> <p>Install the latest version in your projects via: <code>npm i --save-dev @ui5/cli@latest</code><br> And update your global install via <code>npm i --global @ui5/cli@latest</code></p> <p>And find the announcement blog post here: <strong><a href=https://community.sap.com/t5/technology-blogs-by-sap/ui5-tooling-4-0/ba-p/13769578>SAP Community: UI5 Tooling 4.0</a></strong></p> </div> <h2 id=ui5-2x-compatibility>UI5 2.x Compatibility<a class=headerlink href=#ui5-2x-compatibility title="Permanent link">&para;</a></h2> <p><em>Also see the blog post <a href=https://community.sap.com/t5/open-source-blogs/introducing-openui5-2-x/ba-p/13580633>SAP Community: Introducing OpenUI5 2.x</a></em></p> <p>UI5 Tooling 4.0 is required for building UI5 2.x projects. The UI5 2.x framework libraries define Specification Version 4.0 and therefore can't be built using older UI5 Tooling versions.</p> <p>For applications and libraries running with UI5 2.x, the use of Specification Version 4.0 is not enforced. It is highly recommended, however, since only then UI5 Tooling will ensure UI5 2.x compatibility of the generated bundles.</p> <h2 id=nodejs-and-npm-version-support>Node.js and npm Version Support<a class=headerlink href=#nodejs-and-npm-version-support title="Permanent link">&para;</a></h2> <p>This release requires <strong>Node.js versions v20.11.0, v22.0.0, or higher</strong> as well as npm v8 or higher. Support for older Node.js releases has been dropped; their use will cause an error.</p> <h2 id=specification-versions-support>Specification Versions Support<a class=headerlink href=#specification-versions-support title="Permanent link">&para;</a></h2> <p>As with UI5 Tooling 3.x, all projects with Specification Versions 2.0 and higher are supported.</p> <p>If a legacy specification version is detected, an automatic migration is attempted. Old projects might therefore still work, unless they have a non-standard configuration in their ui5.yaml.</p> <h2 id=changes-for-projects>Changes for Projects<a class=headerlink href=#changes-for-projects title="Permanent link">&para;</a></h2> <div class="admonition success"> <p class=admonition-title>No changes for Specification Versions 2.x and 3.x</p> <p>Projects defining <strong>Specification Version 2.x or 3.x</strong> are expected to be <strong>fully compatible with UI5 Tooling v4</strong></p> <p>The following does not apply to them.</p> </div> <p>For projects defining the latest <strong>Specification Version 4.0 or higher</strong>, the following changes apply:</p> <ul> <li> <p><strong>Breaking Change:</strong> Bundling of JavaScript modules requiring "top level scope" as a string is terminated. </p> <p>In UI5 2.x, the feature of evaluating modules from a string is expected to be removed. Therefore, when using the latest Specification Version, UI5 Tooling will <strong>omit affected module from the bundle and log an error message instead.</strong></p> <p>For more details, see <a href=../../pages/Builder/#javascript-files-requiring-top-level-scope>Builder: JavaScript Files Requiring Top Level Scope</a>.</p> </li> <li> <p><strong>Breaking Change:</strong> New <code>async</code> option for the <code>require</code> sections of bundle definitions.</p> <p>This option defaults to <code>true</code> for Specification Version 4.0 and higher, <strong>which can influence the loading behavior of your project</strong>. Require sections are now expressed using <code>sap.ui.require</code> instead of <code>sap.ui.requireSync</code>. The latter is not available in UI5 2.x.</p> <p>Note that the same default applies for all standard bundles as well, like the component- or library preloads as well as self-contained bundles.</p> <p>See <a href=../../pages/Configuration/#properties>Configuration: <code>bundleDefinition.sections</code></a> for more on the new <code>async</code> option.</p> </li> <li> <p><strong>Breaking Change:</strong> Removal of the <code>usePredefineCalls</code> <a href=../../pages/Configuration/#properties>bundle option</a>. UI5 Tooling v4 will <em>always</em> use <code>sap.ui.predefine</code> calls in bundles, making this option obsolete.</p> <p><strong>We do not expect any negative impact</strong> on projects due to this change, therefore it is active independently of the Specification Version. However, when upgrading to Specification Version 4.0 you might need to remove the property if you have it in your ui5.yaml configuration.</p> </li> </ul> <p>You can find a summary of the above at <a href=../../pages/Configuration/#specification-version-40>Configuration: Specification Version 4.0</a>.</p> <h2 id=migrate-your-code>Migrate Your Code<a class=headerlink href=#migrate-your-code title="Permanent link">&para;</a></h2> <p>When using the Node.js API of UI5 Tooling, or when integrating it into other tools, the following changes might be relevant to you:</p> <h3 id=changes-to-ui5cli>Changes to @ui5/cli<a class=headerlink href=#changes-to-ui5cli title="Permanent link">&para;</a></h3> <p>Occurrences of <code>console.log</code> in the code base are replaced with <code>process.stderr</code>. Аny scripts that capture the output from <code>console.log</code> need to be adjusted to rely on <code>process.stderr</code>.</p> <h3 id=changes-to-ui5fs>Changes to @ui5/fs<a class=headerlink href=#changes-to-ui5fs title="Permanent link">&para;</a></h3> <p>Non-public <code>DuplexCollection#byGlobSource</code> API has been removed.</p> <h3 id=changes-to-ui5builder>Changes to @ui5/builder<a class=headerlink href=#changes-to-ui5builder title="Permanent link">&para;</a></h3> <ul> <li> <p><strong>Bundling</strong>: The <code>usePredefineCalls</code> option has been removed. Bundling now enforces the use of <code>sap.ui.predefine</code> instead of function wrappers. </p> </li> <li> <p><strong>Task API</strong>: The <code>namespace</code> option has been renamed to <code>projectNamespace</code>. For more information, check the documentation for <a href=../../pages/extensibility/CustomTasks/#task-implementation>CustomTasks API</a> </p> </li> <li> <p><strong>New Option</strong>: Added a new <code>async</code> option for <code>builder.bundles.bundleDefinition.section</code>.</p> </li> </ul> <div class="admonition example"> <p class=admonition-title>Example</p> <div class=highlight><pre><span></span><code><span class=nt>builder</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=nt>bundles</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>bundleDefinition</span><span class=p>:</span><span class=w></span>
<span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;app.js&quot;</span><span class=w></span>
<span class=w>        </span><span class=nt>sections</span><span class=p>:</span><span class=w></span>
<span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">require</span><span class=w></span>
<span class=w>            </span><span class=nt>filters</span><span class=p>:</span><span class=w></span>
<span class=w>              </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">some/app/Component.js</span><span class=w></span>
<span class=w>            </span><span class=nt>resolve</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class=w></span>
<span class=w>            </span><span class=nt>sort</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class=w></span>
<span class=w>            </span><span class=nt>async</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class=w></span>
</code></pre></div> </div> <h3 id=changes-to-ui5project>Changes to @ui5/project<a class=headerlink href=#changes-to-ui5project title="Permanent link">&para;</a></h3> <ul> <li><strong>Default Workspace Name</strong>: The default <code>workspaceName</code> is now <code>"default"</code> for API usage.</li> </ul> <div class="admonition example"> <p class=admonition-title>Example</p> <div class=highlight><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=nx>graphFromPackageDependencies</span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;@ui5/project/graph&quot;</span><span class=p>;</span><span class=w></span>

<span class=nx>graphFromPackageDependencies</span><span class=p>({</span><span class=w></span>
<span class=w>    </span><span class=cm>/* workspaceName: &quot;default&quot; */</span><span class=w></span>
<span class=p>});</span><span class=w></span>
</code></pre></div> </div> <ul> <li><strong>Directory Naming</strong>: The <code>ui5HomeDir</code> has been renamed to <code>ui5DataDir</code> in APIs.</li> </ul> <div class="admonition example"> <p class=admonition-title>Example</p> <div class=highlight><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=nx>Resolver</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;@ui5/project/ui5Framework/Openui5Resolver&quot;</span><span class=p>;</span><span class=w></span>

<span class=k>await</span><span class=w> </span><span class=nx>Resolver</span><span class=p>.</span><span class=nx>resolveVersion</span><span class=p>(</span><span class=s2>&quot;1.120.15&quot;</span><span class=p>,</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nx>ui5DataDir</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;~/.ui5&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>    </span><span class=nx>cwd</span><span class=o>:</span><span class=w> </span><span class=nx>process</span><span class=p>.</span><span class=nx>cwd</span><span class=p>()</span><span class=w></span>
<span class=p>});</span><span class=w></span>
</code></pre></div> </div> <ul> <li><strong>Dependencies</strong>: The <code>@ui5/builder</code> is now an optional dependency to the <code>@ui5/project</code></li> </ul> <p>Consumers of the Node.js API that make use of the <code>ProjectGraph#build</code> method need to declare a dependency to <code>@ui5/builder</code> in their respective <code>package.json</code>. The package manager should ensure that the version fulfills the range specified in the <code>package.json</code> of <code>@ui5/project</code>.</p> <h2 id=troubleshooting>Troubleshooting<a class=headerlink href=#troubleshooting title="Permanent link">&para;</a></h2> <h3 id=app-stops-working-with-ui5-171>App Stops Working With UI5 1.71<a class=headerlink href=#app-stops-working-with-ui5-171 title="Permanent link">&para;</a></h3> <p>This might be caused by a mismatch of your project's manifest version and your UI5 version.</p> <p>UI5 Tooling v4 enhances the manifest.json with information about the <code>supportedLocales</code> (also see <a href=../../pages/Builder/#generation-of-supported-locales>Builder: Generation of Supported Locales</a>). In UI5 1.71 this configuration is not supported and leads to an ambiguous error message <code>TypeError: invalid input</code> and a failure to process the manifest file.</p> <p>UI5 Tooling uses the manifest's <code>_version</code> property to decide whether the <code>supportedLocales</code> can be generated. For UI5 1.71, only versions up to <code>1.17.0</code> are supported. See <a href=https://sdk.openui5.org/#/topic/be0cf40f61184b358b5faedaec98b2da>UI5 Demo Kit: Descriptor for Applications, Components, and Libraries (manifest.json)</a> for a mapping per manifest version.</p> <p>To resolve this issue, adjust the manifest version according to the UI5 version you are using.</p> <p><em>This issue was first raised here: <a href=https://github.com/SAP/ui5-tooling/issues/988>Ui5 Tooling #988</a></em></p> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../pages/FileSystem/ class="md-footer__link md-footer__link--prev" aria-label="Previous: File System" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> File System </div> </div> </a> <a href=../migrate-v3/ class="md-footer__link md-footer__link--next" aria-label="Next: Migrate to v3" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Migrate to v3 </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> © Copyright 2024, SAP SE and UI5 Tooling Contributors </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=ui5-footer-item><a href=https://www.sap.com/corporate/en/legal/impressum.html target=_blank rel=noopener>Legal Disclosure</a></div> <div class=ui5-footer-item><a href=https://www.sap.com/corporate/en/legal/terms-of-use.html target=_blank rel=noopener>Terms of Use</a></div> <div class=ui5-footer-item><a href=../../pages/Privacy/ >Privacy</a></div> <div class=ui5-footer-item><a href=https://www.sap.com/corporate/en/legal/trademark.html target=_blank rel=noopener>Trademarks</a></div></div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.expand"], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.d6c3db9e.min.js></script> </body> </html>